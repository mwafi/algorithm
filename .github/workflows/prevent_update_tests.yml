name: Fail push if tests directory is modified or deleted

on: [ push ]

jobs:
  - name: Verify Changed files
    uses: tj-actions/verify-changed-files@v16
    id: verify-changed-files
    with:
      files: |
        new.txt
        test_directory

  - name: Perform action when test_directory changes
    if: contains(steps.verify-changed-files.outputs.changed_files, 'test_directory')
    run: |
      echo "test_directory has changed."